<div class="page-container cart-page">
    <table class="striped centered highlight responsive-table">
      <thead>
        <tr>
          <th id="image"></th>
          <th id="product">Producto</th>
          <th id="price">Precio</th>
          <th id="qty">Cantidad</th>
          <th id="total">Total</th>
          <th id="actions"></th>
        </tr>
      </thead>
    
      <tbody>
        <tr *ngFor="let product of cart.products; let i = index;">

          <td class="image">
            <img matTooltip="{{product.name}}" [matTooltipPosition]="tooltipPosition" *ngIf="product.image !== ''" class="materialboxed" src="assets\img\products\{{product.image}}" />
            <p *ngIf="product.image == ''">{{product.image}}</p>
          </td>
          <td class="name">
            {{product.name}}
          </td>
          <td class="price">
            {{product.price | currency:'COP':'symbol-narrow':'4.0-1' | replaceCurrencySeparator:',':'.'}}
          </td>
          <td class="qty">
            <input type="number" matTooltip="Cantidad" [matTooltipPosition]="tooltipPosition" #qty [value]="product.quantity" (change)="changeTotalProduct(product, qty.value, i)" (keyup)="changeTotalProduct(product, qty.value, i)">
          </td>
          <td class="total">
            {{product.price * product.quantity | currency:'COP':'symbol-narrow':'4.0-1' | replaceCurrencySeparator:',':'.'}}
          </td>
          <td class="actions">
            <button class="delete" matTooltip="Eliminar" [matTooltipPosition]="tooltipPosition" (click)="deleteProduct(i)"><i class="material-icons">delete_outline</i></button>
          </td>
        </tr>
      </tbody>
    </table>

    <div class="info-cart">

      <div class="related-products">
        <p class="title">Libros relacionados</p>
      </div>
      
      <div class="cart-totals">
        <cart-totals [subtotal]="subtotalCart" [shipping]="shipping" [total]="totalCart"></cart-totals>
      </div>

    </div>

</div>